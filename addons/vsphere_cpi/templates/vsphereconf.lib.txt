
(@ def vsphere_conf(values): -@)
[Global]
secret-name = "cloud-provider-vsphere-credentials"
secret-namespace = "kube-system"
thumbprint = "(@=values.vsphereCPI.tlsThumbprint @)"
[VirtualCenter "(@=values.vsphereCPI.server @)"]
datacenters = "(@=values.vsphereCPI.datacenter @)"
thumbprint = "(@=values.vsphereCPI.tlsThumbprint @)"
[Route]
router-path = "(@=values.vsphereCPI.nsxt.routerPath @)"
[NSXT]
host = "(@=values.vsphereCPI.nsxt.host @)"
insecure-flag = "(@=values.vsphereCPI.nsxt.insecureFlag @)"
(@ if values.vsphereCPI.nsxt.vmcAccessToken != '' and values.vsphereCPI.nsxt.vmcAuthHost != '' : -@)
vmc-access-token = "(@=values.vsphereCPI.nsxt.vmcAccessToken @)"
vmc-auth-host = "(@=values.vsphereCPI.nsxt.vmcAuthHost @)"
remote-auth = "(@=values.vsphereCPI.nsxt.remoteAuth @)"
(@ elif values.vsphereCPI.nsxt.clientAuthCertFile != '' and values.vsphereCPI.nsxt.clientAuthKeyFile != '' : -@)
client-auth-cert-file = "(@=values.vsphereCPI.nsxt.clientAuthCertFile @)"
client-auth-key-file = "(@=values.vsphereCPI.nsxt.clientAuthKeyFile @)"
ca-file = "(@=values.vsphereCPI.nsxt.caFile @)"
(@ elif values.vsphereCPI.nsxt.secretName != '' and values.vsphereCPI.nsxt.secretNamespace != '': -@)
secret-name = "(@=values.vsphereCPI.nsxt.secretName @)"
secret-namespace = "(@=values.vsphereCPI.nsxt.secretNamespace @)"
(@ elif values.vsphereCPI.nsxt.username != '' and values.vsphereCPI.nsxt.password != '': -@)
username = "(@=values.vsphereCPI.nsxt.username @)"
password = "(@=values.vsphereCPI.nsxt.password @)"
(@ end -@)
(@ end -@)
